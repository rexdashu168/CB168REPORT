<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æŠ•è³‡ç ”å ±åŠ©æ‰‹ Pro</title>
<style>
    :root {
        --primary: #6366f1;
        --secondary: #10b981; /* æ–°å¢ç”¢æ¥­åŠŸèƒ½çš„è¼”åŠ©è‰²ï¼šç¶ è‰² */
        --gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        --gradient-ind: linear-gradient(135deg, #10b981 0%, #059669 100%); /* ç”¢æ¥­ç™¾ç§‘å°ˆç”¨æ¼¸å±¤ */
        --bg: #f5f5f7; --text: #1f2937; --text-light: #6b7280;
        --card: #ffffff; --shadow: 0 2px 8px rgba(0,0,0,0.06);
    }
    body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding-bottom: 65px; -webkit-tap-highlight-color: transparent; }
    
    /* è¦–åœ–æ§åˆ¶ */
    .view { display: none; animation: fade 0.25s ease; min-height: 100vh; }
    .view.active { display: block; }
    @keyframes fade { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

    /* Header & Inputs */
    .header { background: var(--gradient); color: #fff; padding: 16px; position: sticky; top: 0; z-index: 10; display: flex; align-items: center; box-shadow: var(--shadow); }
    .header.industry-mode { background: var(--gradient-ind); } /* ç”¢æ¥­æ¨¡å¼è®Šè‰² */
    .header h1 { margin: 0; font-size: 18px; flex-grow: 1; text-align: center; font-weight: 600; }
    .btn-icon { background: none; border: none; color: #fff; font-size: 20px; cursor: pointer; padding: 0 10px; }

    .search-box { background: var(--card); padding: 12px; margin: 12px; border-radius: 12px; box-shadow: var(--shadow); }
    .input-field { width: 100%; padding: 10px; border: 2px solid #eee; border-radius: 8px; box-sizing: border-box; font-size: 14px; outline: none; transition: 0.3s; }
    .input-field:focus { border-color: var(--primary); }

    /* é¦–é  Grid (èª¿æ•´ç‚ºé©æ‡‰ 5 å€‹æ–¹å¡Š) */
    .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; padding: 0 12px 12px; }
    /* è®“ç¬¬ä¸€å€‹æ–¹å¡Š (ç”¢æ¥­ç™¾ç§‘) æ©«è·¨å…©æ¬„ï¼Œçªé¡¯åŠŸèƒ½ */
    .card-btn.full-width { grid-column: span 2; background: linear-gradient(to right, #fff, #f0fdf4); border-left: 5px solid var(--secondary); }
    
    .card-btn { background: var(--card); padding: 16px; border-radius: 12px; text-align: center; box-shadow: var(--shadow); cursor: pointer; transition: transform 0.2s; position: relative; overflow: hidden; }
    .card-btn:active { transform: scale(0.98); }
    .card-icon { font-size: 24px; margin-bottom: 8px; display: block; }

    /* åˆ—è¡¨èˆ‡å ±å‘Šå¡ç‰‡ */
    .list { padding: 0 12px; }
    .item { background: var(--card); padding: 16px; border-radius: 12px; margin-bottom: 10px; box-shadow: var(--shadow); cursor: pointer; }
    .item-head { display: flex; justify-content: space-between; margin-bottom: 4px; font-weight: 600; }
    .tags { margin-top: 8px; }
    .tag { display: inline-block; background: #ede9fe; color: var(--primary); padding: 2px 8px; border-radius: 4px; font-size: 10px; margin-right: 4px; }
    
    /* === æ–°å¢ï¼šç”¢æ¥­èº«åˆ†è­‰å¡ç‰‡æ¨£å¼ === */
    .ind-card { background: #fff; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.08); margin-bottom: 16px; border: 1px solid #e5e7eb; }
    .ind-header { background: #f0fdf4; padding: 16px; border-bottom: 1px solid #d1fae5; display: flex; justify-content: space-between; align-items: center; }
    .ind-title { font-size: 18px; font-weight: 700; color: #065f46; }
    .ind-code { background: #059669; color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px; margin-left: 8px; }
    .ind-body { padding: 16px; }
    .ind-row { margin-bottom: 12px; display: flex; align-items: baseline; }
    .ind-label { width: 70px; font-size: 13px; color: #6b7280; font-weight: 500; flex-shrink: 0; }
    .ind-val { font-size: 14px; color: #1f2937; line-height: 1.5; }
    .ind-tag { display: inline-block; background: #d1fae5; color: #047857; padding: 4px 10px; border-radius: 20px; font-size: 12px; margin-right: 6px; font-weight: 500; }
    .position-badge { background: #fffbeb; color: #b45309; border: 1px solid #fcd34d; padding: 4px 8px; border-radius: 6px; font-size: 12px; font-weight: bold; display: inline-block; margin-top: 4px; }

    /* åº•éƒ¨å°èˆª */
    .nav { position: fixed; bottom: 0; width: 100%; background: #fff; border-top: 1px solid #eee; display: flex; justify-content: space-around; padding: 8px 0; z-index: 100; }
    .nav-item { text-align: center; color: var(--text-light); font-size: 10px; cursor: pointer; flex: 1; }
    .nav-item.active { color: var(--primary); }
</style>
</head>
<body>

<div id="home" class="view active">
    <div class="header">
        <div style="width:20px"></div>
        <h1>æŠ•è³‡ç ”å ± Pro</h1>
        <div style="width:20px"></div>
    </div>

    <div class="grid" style="margin-top: 20px;">
        <div class="card-btn full-width" onclick="app.go('industrySearch')">
            <div style="display:flex; align-items:center; justify-content:center; gap:10px;">
                <span style="font-size:28px;">ğŸ­</span>
                <div style="text-align:left;">
                    <div style="font-weight:bold; font-size:16px; color:#065f46;">ç”¢æ¥­ç™¾ç§‘</div>
                    <div style="font-size:11px; color:#059669;">æŸ¥åœ°ä½ã€æ‰¾ä¾›æ‡‰éˆ</div>
                </div>
            </div>
        </div>

        <div class="card-btn" onclick="app.filter('new')"><span class="card-icon">ğŸ“</span>æœ€æ–°å ±å‘Š</div>
        <div class="card-btn" onclick="app.filter('high')"><span class="card-icon">ğŸ”¥</span>é«˜é‡è¦æ€§</div>
        <div class="card-btn" onclick="app.filter('ai')"><span class="card-icon">ğŸ¤–</span>AI å°ˆå€</div>
        <div class="card-btn" onclick="app.filter('all')"><span class="card-icon">ğŸ“‚</span>æ‰€æœ‰å ±å‘Š</div>
    </div>

    <div class="list">
        <h3 style="margin: 10px 4px; font-size: 16px;">ç²¾é¸æ‘˜è¦</h3>
        <div id="home-list"></div>
    </div>
</div>

<div id="list" class="view">
    <div class="header">
        <button class="btn-icon" onclick="app.back()">â†</button>
        <h1 id="list-title">å ±å‘Šåˆ—è¡¨</h1>
        <div style="width:40px"></div>
    </div>
    <div class="list" id="full-list" style="padding-top: 16px;"></div>
</div>

<div id="detail" class="view">
    <div class="header">
        <button class="btn-icon" onclick="app.back()">â†</button>
        <h1 id="detail-title">è©³æƒ…</h1>
        <div style="width:40px"></div>
    </div>
    <div id="detail-content" style="padding:20px; background:#fff;"></div>
</div>

<div id="industrySearch" class="view">
    <div class="header industry-mode">
        <button class="btn-icon" onclick="app.back()">â†</button>
        <h1>ç”¢æ¥­åœ°ä½æŸ¥è©¢</h1>
        <div style="width:40px"></div>
    </div>
    <div class="search-box" style="border-top: 4px solid var(--secondary);">
        <input type="text" class="input-field" placeholder="è¼¸å…¥ä»£è™Ÿ (å¦‚ 2330) æˆ–åç¨±..." id="indInput" onkeyup="app.searchIndustry(this.value)">
        <div style="margin-top:8px; font-size:12px; color:#666;">
            ç†±é–€æœå°‹ï¼š<span style="color:#059669; cursor:pointer;" onclick="app.fillSearch('å°ç©é›»')">å°ç©é›»</span>ã€
            <span style="color:#059669; cursor:pointer;" onclick="app.fillSearch('é´»æµ·')">é´»æµ·</span>ã€
            <span style="color:#059669; cursor:pointer;" onclick="app.fillSearch('AI')">AI</span>
        </div>
    </div>
    <div class="list" id="industry-result">
        <div style="text-align:center; padding:40px; color:#9ca3af;">
            <div style="font-size:40px; margin-bottom:10px;">ğŸ¢</div>
            è«‹è¼¸å…¥å…¬å¸åç¨±æˆ–ä»£è™Ÿ<br>æŸ¥çœ‹å…¶ç”¢æ¥­åœ°ä½èˆ‡åˆ†é¡
        </div>
    </div>
</div>

<div class="nav">
    <div class="nav-item active" onclick="app.go('home')"><span style="font-size:20px">ğŸ </span><div>é¦–é </div></div>
    <div class="nav-item" onclick="app.go('industrySearch')"><span style="font-size:20px">ğŸ­</span><div>æŸ¥ç”¢æ¥­</div></div>
    <div class="nav-item"><span style="font-size:20px">ğŸ‘¤</span><div>æˆ‘çš„</div></div>
</div>

<script>
// === 1. å ±å‘Šè³‡æ–™åº« (DB) ===
const REPORT_DB = [
    { id: 1, date: "2025/11/11", company: "è¯ç¢©", code: "2357", broker: "å…ƒå¤§æŠ•é¡§", importance: "high", summary: "3Q25å‰µæ–°é«˜ï¼ŒAIä¼ºæœå™¨å æ¯”20%ã€‚", tags: ["PC", "AI"] },
    { id: 2, date: "2025/11/12", company: "å°ç©é›»", code: "2330", broker: "æ‘©æ ¹å¤§é€š", importance: "high", summary: "3å¥ˆç±³ç”¢èƒ½æ»¿è¼‰ï¼ŒCoWoSæ“´ç”¢ã€‚", tags: ["åŠå°é«”"] },
    { id: 3, date: "2025/11/10", company: "å»£é”", code: "2382", broker: "å‡±åŸºè­‰åˆ¸", importance: "high", summary: "GB200æ•´æ©Ÿæ«ƒæ˜å¹´Q1å¤§é‡å‡ºè²¨ã€‚", tags: ["ä¼ºæœå™¨"] },
    { id: 4, date: "2025/11/09", company: "è¯ç™¼ç§‘", code: "2454", broker: "é«˜ç››", importance: "normal", summary: "å¤©ç’£9400åæ‡‰ä½³ã€‚", tags: ["ICè¨­è¨ˆ"] },
    { id: 5, date: "2025/11/08", company: "ç·¯ç©", code: "6669", broker: "é‡æ‘", importance: "normal", summary: "ç­‰å¾…æ–°æ™¶ç‰‡è½‰æ›æœŸã€‚", tags: ["ä¼ºæœå™¨"] }
];

// === 2. æ–°å¢ï¼šç”¢æ¥­åˆ†é¡è³‡æ–™åº« (Industry DB) ===
// æ¨¡æ“¬æ‚¨ä¸Šå‚³çš„ CSV çµæ§‹ï¼šä»£è™Ÿ, åç¨±, ä¸»ç”¢æ¥­, ç´°åˆ†, åœ°ä½, èªªæ˜
const INDUSTRY_DB = [
    { 
        code: "2330", name: "å°ç©é›»", main: "åŠå°é«”", sub: "æ™¶åœ“ä»£å·¥", 
        position: "å…¨çƒæ™¶åœ“ä»£å·¥é¾é ­ (å¸‚å >60%)", 
        desc: "æ“æœ‰å…¨çƒæœ€å…ˆé€²è£½ç¨‹æŠ€è¡“ (3nm/2nm)ï¼Œç‚ºAppleã€NVIDIAã€AMDç¨å®¶ä¾›æ‡‰å•†ã€‚CoWoSå°è£ç”¢èƒ½ç‚ºAIæ™¶ç‰‡é—œéµç“¶é ¸ã€‚" 
    },
    { 
        code: "2357", name: "è¯ç¢©", main: "é›»è…¦åŠå‘¨é‚Š", sub: "å“ç‰ŒPC/ä¸»æ©Ÿæ¿", 
        position: "å…¨çƒä¸»æ©Ÿæ¿é¾é ­ / é›»ç«¶å“ç‰Œç¬¬ä¸€", 
        desc: "ROGå“ç‰Œåœ¨é›»ç«¶å¸‚å ´å…·é«˜æº¢åƒ¹åŠ›ã€‚è¿‘å¹´ç©æ¥µåˆ‡å…¥AIä¼ºæœå™¨ï¼Œèˆ‡è¼é”é—œä¿‚ç·Šå¯†ã€‚" 
    },
    { 
        code: "2317", name: "é´»æµ·", main: "é›»å­çµ„è£", sub: "EMSä»£å·¥", 
        position: "å…¨çƒæœ€å¤§é›»å­ä»£å·¥å» ", 
        desc: "iPhoneä¸»è¦çµ„è£å» ã€‚ç¨å®¶å–å¾—NVIDIA GB200 NVL72 é¦–æ‰¹å‡ºè²¨æ¬Šï¼Œè½‰å‹ç‚ºAIä¼ºæœå™¨çµ„è£å·¨é ­ã€‚" 
    },
    { 
        code: "2454", name: "è¯ç™¼ç§‘", main: "åŠå°é«”", sub: "ICè¨­è¨ˆ", 
        position: "å…¨çƒæ‰‹æ©Ÿæ™¶ç‰‡å‡ºè²¨é‡ç¬¬ä¸€", 
        desc: "å¤©ç’£ç³»åˆ—æŒ‘æˆ°é«˜é€šæ——è‰¦åœ°ä½ã€‚ç©æ¥µä½ˆå±€WiFi 7èˆ‡è»Šç”¨æ™¶ç‰‡(Dimensity Auto)ã€‚" 
    },
    { 
        code: "2382", name: "å»£é”", main: "é›»è…¦åŠå‘¨é‚Š", sub: "NBä»£å·¥/ä¼ºæœå™¨", 
        position: "NBä»£å·¥é¾é ­ / AIä¼ºæœå™¨é ˜å…ˆè€…", 
        desc: "èˆ‡Googleã€Metaã€Amazonåˆä½œå¤šå¹´ã€‚ç›®å‰ç‚ºGB200ä¸»è¦ä¾›æ‡‰å•†ä¹‹ä¸€ï¼ŒæŠ€è¡“èƒ½åŠ›å¼·ã€‚" 
    },
    { 
        code: "3008", name: "å¤§ç«‹å…‰", main: "å…‰é›»", sub: "å…‰å­¸é¡é ­", 
        position: "æ‰‹æ©Ÿé¡é ­æŠ€è¡“é ˜å°è€…", 
        desc: "æ“æœ‰æœ€é«˜éšå¡‘è† é¡ç‰‡å°ˆåˆ©ï¼Œç‚ºiPhoneæ½›æœ›å¼é¡é ­ä¸»è¦ä¾›æ‡‰å•†ã€‚" 
    },
    { 
        code: "6669", name: "ç·¯ç©", main: "é›»è…¦åŠå‘¨é‚Š", sub: "ä¼ºæœå™¨", 
        position: "ç´”é›²ç«¯è³‡æ–™ä¸­å¿ƒä¾›æ‡‰å•†", 
        desc: "ç·¯å‰µå­å…¬å¸ï¼Œå°ˆæ³¨æ–¼CSPç›´æ¥éŠ·å”® (ODM Direct)ï¼Œå¤§å®¢æˆ¶ç‚ºMetaèˆ‡Microsoftã€‚" 
    }
];

// === 3. æ ¸å¿ƒé‚è¼¯ ===
const app = {
    history: ['home'],

    init: function() {
        // æ¸²æŸ“é¦–é å ±å‘Šæ‘˜è¦
        const el = document.getElementById('home-list');
        el.innerHTML = REPORT_DB.slice(0, 3).map(d => `
            <div class="item" onclick="alert('è«‹è‡³åˆ—è¡¨é æŸ¥çœ‹è©³æƒ…')">
                <div class="item-head">${d.company} <small>${d.code}</small></div>
                <div style="font-size:12px; color:#666">${d.summary}</div>
            </div>
        `).join('');
    },

    // --- å ±å‘Šç›¸é—œåŠŸèƒ½ ---
    filter: function(type) {
        let res = REPORT_DB;
        if (type === 'new') res = REPORT_DB.slice(0,3);
        else if (type === 'high') res = REPORT_DB.filter(x => x.importance === 'high');
        else if (type === 'ai') res = REPORT_DB.filter(x => JSON.stringify(x).includes('AI'));
        
        document.getElementById('list-title').innerText = type === 'all' ? 'æ‰€æœ‰å ±å‘Š' : 'ç¯©é¸çµæœ';
        
        const html = res.map(item => `
            <div class="item">
                <div class="item-head">
                    <span>${item.company} <small style="color:#888">${item.code}</small></span>
                    <span>${item.date.slice(5)}</span>
                </div>
                <div style="font-size:13px; color:#4b5563; margin-bottom:8px;">${item.summary}</div>
                <div class="tags">${item.tags.map(t => `<span class="tag">#${t}</span>`).join('')}</div>
            </div>
        `).join('');
        document.getElementById('full-list').innerHTML = html;
        this.go('list');
    },

    // --- æ–°å¢ï¼šç”¢æ¥­æŸ¥è©¢åŠŸèƒ½ ---
    fillSearch: function(txt) {
        document.getElementById('indInput').value = txt;
        this.searchIndustry(txt);
    },

    searchIndustry: function(val) {
        const container = document.getElementById('industry-result');
        if (!val) { container.innerHTML = ''; return; }

        const key = val.toLowerCase();
        // æœå°‹é‚è¼¯ï¼šæ¯”å°ä»£è™Ÿã€åç¨±ã€ä¸»ç”¢æ¥­ã€ç´°åˆ†ç”¢æ¥­
        const res = INDUSTRY_DB.filter(d => 
            d.code.includes(key) || 
            d.name.includes(key) || 
            d.main.includes(key) ||
            d.sub.includes(key)
        );

        if (res.length === 0) {
            container.innerHTML = '<div style="text-align:center; padding:20px; color:#999;">æŸ¥ç„¡è³‡æ–™ï¼Œè«‹å˜—è©¦å…¶ä»–é—œéµå­—</div>';
            return;
        }

        // æ¸²æŸ“å¡ç‰‡çµæœ
        container.innerHTML = res.map(d => `
            <div class="ind-card">
                <div class="ind-header">
                    <div>
                        <span class="ind-title">${d.name}</span>
                        <span class="ind-code">${d.code}</span>
                    </div>
                    <div style="text-align:right">
                        <span class="ind-tag" style="background:#fff; border:1px solid #10b981;">${d.main}</span>
                    </div>
                </div>
                <div class="ind-body">
                    <div class="ind-row">
                        <div class="ind-label">ç´°åˆ†ç”¢æ¥­</div>
                        <div class="ind-val"><span class="ind-tag">${d.sub}</span></div>
                    </div>
                    <div class="ind-row">
                        <div class="ind-label">ç”¢æ¥­åœ°ä½</div>
                        <div class="ind-val">
                            <span class="position-badge">ğŸ† ${d.position}</span>
                        </div>
                    </div>
                    <div class="ind-row" style="display:block">
                        <div class="ind-label" style="margin-bottom:4px">é‡é»èªªæ˜</div>
                        <div class="ind-val" style="background:#f9fafb; padding:10px; border-radius:8px; color:#4b5563;">
                            ${d.desc}
                        </div>
                    </div>
                </div>
            </div>
        `).join('');
    },

    // --- å°èˆªèˆ‡å…±ç”¨ ---
    go: function(viewId) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
        document.getElementById(viewId).classList.add('active');
        if(this.history[this.history.length-1] !== viewId) this.history.push(viewId);
        window.scrollTo(0,0);
        
        // è™•ç†åº•éƒ¨å°èˆªç‹€æ…‹
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        if (viewId === 'home') document.querySelectorAll('.nav-item')[0].classList.add('active');
        if (viewId === 'industrySearch') document.querySelectorAll('.nav-item')[1].classList.add('active');
    },

    back: function() {
        if(this.history.length > 1) {
            this.history.pop();
            this.go(this.history.pop());
        } else {
            this.go('home');
        }
    }
};

app.init();
</script>
</body>
</html>
