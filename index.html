<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rex æŠ•è³‡æ±ºç­–ä¸­æ¨ (Grid Pro)</title>
<style>
    :root {
        /* === å°ˆæ¥­è‰²ç¥¨ (Professional Palette) === */
        --bg-body: #f0f2f5;       /* æ·ºç°èƒŒæ™¯ï¼Œè¥¯æ‰˜ç™½å¡ç‰‡ */
        --card-bg: #ffffff;
        
        --primary: #4f46e5;       /* å“ç‰Œä¸»è‰² (Indigo) */
        --text-main: #111827;     /* æ·±é»‘å­— */
        --text-sub: #6b7280;      /* æ¬¡è¦ç°å­— */
        
        /* åŠŸèƒ½è‰² */
        --c-report: #6366f1;      /* ç ”å ±ç´« */
        --c-news: #f59e0b;        /* å¤–é›»æ©˜ */
        --c-ind: #10b981;         /* ç”¢æ¥­ç¶  */
        --c-alert: #ef4444;       /* è­¦ç¤ºç´… */

        /* æ ¼å­ç³»çµ±åƒæ•¸ */
        --gap: 20px;
        --radius: 24px;           /* å¤§åœ“è§’ï¼Œç¾ä»£æ„Ÿ */
        --shadow: 0 4px 20px rgba(0,0,0,0.04);
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "PingFang TC", sans-serif;
        background: var(--bg-body);
        color: var(--text-main);
        margin: 0;
        padding-bottom: 100px;
        -webkit-font-smoothing: antialiased;
    }

    /* === ç‰ˆé¢å®¹å™¨ (Symmetrical Container) === */
    .app-container {
        max-width: 1000px; /* é™åˆ¶æœ€å¤§å¯¬åº¦ï¼Œç¢ºä¿æ¡Œæ©Ÿç‰ˆå°ç¨± */
        margin: 0 auto;
        padding: 20px;
    }

    /* è¦–åœ–å‹•ç•« */
    .view { display: none; animation: fadeScale 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
    .view.active { display: block; }
    @keyframes fadeScale { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }

    /* === 1. å°ç¨±å¼ Header === */
    .header {
        text-align: center;
        margin-bottom: 30px;
        position: relative;
    }
    .header h1 { font-size: 24px; font-weight: 800; margin: 0 0 8px 0; letter-spacing: -0.5px; }
    .header p { font-size: 13px; color: var(--text-sub); margin: 0; }
    
    .btn-back {
        position: absolute; left: 0; top: 5px;
        background: white; border: 1px solid #e5e7eb;
        width: 40px; height: 40px; border-radius: 50%;
        cursor: pointer; display: flex; align-items: center; justify-content: center;
        font-size: 18px; box-shadow: var(--shadow); transition: 0.2s;
    }
    .btn-back:hover { transform: scale(1.05); }

    /* === 2. æœå°‹ä¸­æ¨ (Centered Search) === */
    .search-bar-container {
        background: var(--card-bg);
        padding: 10px;
        border-radius: 50px; /* å…¨åœ“è§’ */
        box-shadow: var(--shadow);
        display: flex;
        align-items: center;
        max-width: 600px;
        margin: 0 auto 30px; /* ç½®ä¸­ */
        border: 1px solid rgba(0,0,0,0.05);
    }
    .search-input {
        flex: 1; border: none; outline: none; font-size: 16px; padding: 10px 20px;
        background: transparent;
    }
    .filter-group { display: flex; gap: 8px; padding-right: 10px; }
    .f-chip {
        font-size: 12px; padding: 6px 16px; border-radius: 20px; background: #f3f4f6;
        color: var(--text-sub); cursor: pointer; transition: 0.2s; font-weight: 600;
    }
    .f-chip.active { background: var(--text-main); color: white; }

    /* === 3. Bento Grid (æ ¸å¿ƒç¶²æ ¼ç³»çµ±) === */
    .bento-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* è‡ªå‹•éŸ¿æ‡‰ï¼Œæœ€å°‘300pxå¯¬ */
        gap: var(--gap);
    }

    /* æ–¹å¡Šå¡ç‰‡åŸºç¤æ¨£å¼ */
    .bento-card {
        background: var(--card-bg);
        border-radius: var(--radius);
        padding: 24px;
        box-shadow: var(--shadow);
        cursor: pointer;
        transition: transform 0.25s ease, box-shadow 0.25s ease;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        height: 180px; /* å›ºå®šé«˜åº¦è®“æ ¼å­æ•´é½Š */
        position: relative;
        overflow: hidden;
        border: 1px solid rgba(0,0,0,0.03);
    }
    .bento-card:hover { transform: translateY(-4px); box-shadow: 0 10px 30px rgba(0,0,0,0.08); }

    /* è£é£¾èƒŒæ™¯åœ–æ¨™ (åŠé€æ˜å¤§åœ–æ¨™) */
    .bento-bg-icon {
        position: absolute; right: -20px; bottom: -20px;
        font-size: 120px; opacity: 0.05; pointer-events: none;
    }

    /* æ–¹å¡Šå€‹åˆ¥ä¸»é¡Œ */
    .bc-report { border-top: 6px solid var(--c-report); }
    .bc-news { border-top: 6px solid var(--c-news); }
    .bc-ind { border-top: 6px solid var(--c-ind); }
    .bc-high { border-top: 6px solid var(--c-alert); }

    .bc-title { font-size: 18px; font-weight: 700; margin-bottom: 4px; display: flex; align-items: center; gap: 8px; }
    .bc-desc { font-size: 13px; color: var(--text-sub); line-height: 1.5; }
    .bc-stat { margin-top: auto; font-size: 28px; font-weight: 800; letter-spacing: -1px; }
    
    /* === 4. åˆ—è¡¨ç¶²æ ¼ (List Grid) === */
    /* é€™æ˜¯è®“åˆ—è¡¨ä¹Ÿå‘ˆç¾æ–¹å¡Šæ„Ÿçš„é—œéµ */
    .list-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); /* éŸ¿æ‡‰å¼æ ¼å­ */
        gap: 16px;
    }

    .data-card {
        background: var(--card-bg);
        border-radius: 16px;
        padding: 20px;
        box-shadow: var(--shadow);
        cursor: pointer;
        border: 1px solid transparent;
        transition: 0.2s;
    }
    .data-card:hover { border-color: var(--primary); }

    /* åˆ—è¡¨å…§å…ƒä»¶ */
    .dc-head { display: flex; justify-content: space-between; margin-bottom: 12px; align-items: center; }
    .dc-title { font-size: 16px; font-weight: 700; }
    .dc-tag { font-size: 11px; padding: 4px 8px; border-radius: 6px; font-weight: 600; }
    .tag-buy { background: #fee2e2; color: #dc2626; }
    .tag-hold { background: #ffedd5; color: #c2410c; }
    .tag-cat { background: #e0f2fe; color: #0369a1; }

    .dc-body { font-size: 14px; color: #4b5563; line-height: 1.6; margin-bottom: 12px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;}
    .dc-foot { font-size: 12px; color: #9ca3af; display: flex; gap: 10px; border-top: 1px solid #f3f4f6; padding-top: 10px; }

    /* === 5. è©³æƒ…é  (Chat UI Block Style) === */
    /* å°‡ Ellis å°è©±æµæ”¹æˆ "è³‡è¨Šç©æœ¨" */
    .chat-stack { max-width: 800px; margin: 0 auto; display: flex; flex-direction: column; gap: 20px; }
    
    .info-block {
        background: white;
        border-radius: 16px;
        padding: 24px;
        box-shadow: var(--shadow);
        opacity: 0; animation: slideIn 0.4s forwards;
        border-left: 4px solid transparent;
    }
    @keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

    .ib-meta { border-left-color: var(--primary); }
    .ib-rex { background: #fffbeb; border: 1px solid #fbbf24; }
    
    .ib-head { font-size: 12px; font-weight: 700; text-transform: uppercase; color: #9ca3af; margin-bottom: 12px; letter-spacing: 1px; display: flex; align-items: center; gap: 8px; }
    .ib-content { font-size: 16px; line-height: 1.8; color: #374151; white-space: pre-line; }

    /* åº•éƒ¨å°èˆª (æ‡¸æµ®è† å›Š) */
    .nav-capsule {
        position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%);
        background: rgba(17, 24, 39, 0.9); backdrop-filter: blur(10px);
        padding: 6px; border-radius: 40px;
        display: flex; gap: 4px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        z-index: 100;
    }
    .nav-btn {
        color: #9ca3af; padding: 10px 24px; border-radius: 30px;
        cursor: pointer; font-size: 14px; font-weight: 600; transition: 0.3s;
        display: flex; align-items: center; gap: 6px;
    }
    .nav-btn.active { background: white; color: black; }

</style>
</head>
<body>

<div class="app-container">

    <div id="homeView" class="view active">
        <div class="header">
            <h1>Rex Intelligence</h1>
            <p>2025.11.19 â€¢ å¸‚å ´æ±ºç­–ä¸­æ¨</p>
        </div>

        <div class="search-bar-container">
            <span style="padding-left: 20px; font-size: 18px;">ğŸ”</span>
            <input type="text" class="search-input" placeholder="æœå°‹å…¬å¸ / ä»£è™Ÿ / é—œéµå­—..." onkeyup="app.globalSearch(this.value)">
            <div class="filter-group">
                <div class="f-chip active" onclick="app.filterHome('all', this)">å…¨éƒ¨</div>
                <div class="f-chip" onclick="app.filterHome('high', this)">é‡é»</div>
            </div>
        </div>

        <div class="bento-grid">
            <div class="bento-card bc-report" onclick="app.goList('report', 'all')">
                <div class="bento-bg-icon">ğŸ“</div>
                <div>
                    <div class="bc-title"><span style="color:var(--c-report)">â—</span> æ·±åº¦ç ”å ±</div>
                    <div class="bc-desc">19æ¬„ä½å®Œæ•´è§£æ<br>åŒ…å«ç‡Ÿé‹ã€ç­–ç•¥ã€QA</div>
                </div>
                <div class="bc-stat">Reports</div>
            </div>

            <div class="bento-card bc-high" onclick="app.goList('report', 'high')">
                <div class="bento-bg-icon">ğŸ”¥</div>
                <div>
                    <div class="bc-title"><span style="color:var(--c-alert)">â—</span> Rex ç²¾é¸</div>
                    <div class="bc-desc">é«˜é‡è¦æ€§å ±å‘Š<br>è©•ç­‰è²·é€² & èª¿å‡</div>
                </div>
                <div class="bc-stat">Focus</div>
            </div>

            <div class="bento-card bc-ind" onclick="app.switchView('industryView')">
                <div class="bento-bg-icon">ğŸ­</div>
                <div>
                    <div class="bc-title"><span style="color:var(--c-ind)">â—</span> ç”¢æ¥­ç™¾ç§‘</div>
                    <div class="bc-desc">å…¨å¸‚å ´å®šä½æŸ¥è©¢<br>ä¾›æ‡‰éˆä¸Šä¸‹æ¸¸é—œä¿‚</div>
                </div>
                <div class="bc-stat">Industry</div>
            </div>

            <div class="bento-card bc-news" onclick="app.switchView('newsView')">
                <div class="bento-bg-icon">âš¡</div>
                <div>
                    <div class="bc-title"><span style="color:var(--c-news)">â—</span> å¤–é›»æƒ…å ±</div>
                    <div class="bc-desc">Bloomberg / WSJ<br>å³æ™‚å¸‚å ´å¿«è¨Š</div>
                </div>
                <div class="bc-stat">Global</div>
            </div>
        </div>

        <h3 style="margin: 30px 0 16px;">ğŸ“Œ æœ€æ–°å‹•æ…‹</h3>
        <div class="list-grid" id="home-feed"></div>
    </div>

    <div id="listView" class="view">
        <div class="header">
            <button class="btn-back" onclick="app.back()">â†</button>
            <h1 id="list-title">å ±å‘Šåˆ—è¡¨</h1>
        </div>
        <div class="list-grid" id="list-container"></div>
    </div>

    <div id="detailView" class="view">
        <div class="header">
            <button class="btn-back" onclick="app.back()">â†</button>
            <h1>æ·±åº¦è§£æ</h1>
        </div>
        <div class="chat-stack" id="detail-content"></div>
    </div>

    <div id="industryView" class="view">
        <div class="header">
            <button class="btn-back" onclick="app.back()">â†</button>
            <h1>ç”¢æ¥­ç™¾ç§‘</h1>
        </div>
        <div class="search-bar-container">
            <input type="text" class="search-input" placeholder="è¼¸å…¥ä»£è™Ÿæˆ–åç¨±..." onkeyup="app.searchInd(this.value)">
        </div>
        <div class="list-grid" id="ind-container"></div>
    </div>

    <div id="newsView" class="view">
        <div class="header">
            <button class="btn-back" onclick="app.back()">â†</button>
            <h1>å¤–é›»ç¶œåˆå ±å°</h1>
        </div>
        <div class="list-grid" id="news-container"></div>
    </div>

</div>

<div class="nav-capsule">
    <div class="nav-btn active" onclick="app.switchView('homeView')">ğŸ  é¦–é </div>
    <div class="nav-btn" onclick="app.switchView('industryView')">ğŸ­ ç”¢æ¥­</div>
    <div class="nav-btn" onclick="app.switchView('newsView')">âš¡ å¤–é›»</div>
</div>

<script>
/* è³‡æ–™åº«ï¼šåš´æ ¼éµå®ˆæ‚¨çš„æ¬„ä½è¦æ±‚
*/

// 1. ç ”å ± (19æ¬„ä½)
const DB_REPORTS = [
    {
        id: "R01", date: "2025/11/19", company: "è¯ç¢©", code: "2357", broker: "å…ƒå¤§æŠ•é¡§", analyst: "é­å»ºç™¼",
        industry: "PC/ä¼ºæœå™¨", type: "Call Memo", rating: "è²·é€²", target: "700", imp: "é«˜",
        fin: "3Q25 ç‡Ÿæ”¶ 1,899å„„ (QoQ+9%)ï¼ŒEPS 14.2å…ƒã€‚æ¯›åˆ©ç‡ 17.2%ã€‚",
        summary: "ä¼ºæœå™¨ç‡Ÿæ”¶ä½”æ¯”æ˜å¹´æŒ‘æˆ° 20%ï¼ŒGB200 å‡ºè²¨é †æš¢ã€‚",
        ops: "1. ä¼ºæœå™¨ï¼šé è¨ˆ 2025 å¹´å€å¢ã€‚\n2. PCï¼šAI PC å¸‚å ç‡ 25%ã€‚",
        strat: "å…¨åŠ›è½‰å‹ AI ä¼ºæœå™¨è§£æ±ºæ–¹æ¡ˆã€‚",
        qa: "Q: GB200 å‡ºè²¨ï¼Ÿ A: 12æœˆå°é‡ï¼ŒQ1æ”¾é‡ã€‚\nQ: æ¯›åˆ©ç‡ï¼Ÿ A: ç”¢å“çµ„åˆå„ªåŒ–ã€‚",
        rex: "è¯ç¢©æ˜¯é€™æ³¢ AI ä¼ºæœå™¨è¢«ä½ä¼°çš„æ¨™çš„ï¼Œèµ·æ­¥æ™šä½†è¿½è¶•å¿«ã€‚",
        follow: "1æœˆ CES å±•æ–°å“ç™¼å¸ƒã€‚", tags: "#AIä¼ºæœå™¨ #GB200"
    },
    {
        id: "R02", date: "2025/11/19", company: "è‡´èŒ‚", code: "2360", broker: "æ‘©æ ¹å£«ä¸¹åˆ©", analyst: "Sharon Shih",
        industry: "å„€å™¨è¨­å‚™", type: "å€‹è‚¡å ±å‘Š", rating: "å„ªæ–¼å¤§ç›¤", target: "520", imp: "ä¸­",
        fin: "é ä¼° Q4 ç‡Ÿæ”¶å­£å¢ 15%ï¼ŒSLT ä½”æ¯” 25%ã€‚",
        summary: "SLT æ¸¬è©¦è¨­å‚™éœ€æ±‚å¼·å‹ï¼Œè¨‚å–®èƒ½è¦‹åº¦é” 2026ã€‚",
        ops: "1. AI æ™¶ç‰‡ï¼šBlackwell åŠŸè€—æå‡ã€‚\n2. CPOï¼šé€šéé©—è­‰ã€‚",
        strat: "æ·±è€•åŠå°é«” Final Testã€‚",
        qa: "Q: CoWoS æ“´ç”¢å½±éŸ¿ï¼Ÿ A: æ­£å‘ã€‚",
        rex: "è¨­å‚™è‚¡ç‹ã€‚æ¸¬è©¦æ™‚é–“æ‹‰é•·æ˜¯æœ€å¤§åˆ©å¤šã€‚",
        follow: "CoWoS æ“´ç”¢é€²åº¦ã€‚", tags: "#CoWoS #CPO"
    }
];

// 2. å¤–é›» (10æ¬„ä½)
const DB_NEWS = [
    {
        id: "N01", type: "å¤–é›»å ±å°", date: "2025/11/19", company: "å°ç©é›»", code: "2330",
        source: "Bloomberg", cat: "ç‡Ÿé‹å±•æœ›", imp: "é«˜",
        content: "å½­åšï¼šå°ç©é›»äºåˆ©æ¡‘é‚£å»  (Fab 21) è‰¯ç‡è¶…å°ç£ã€‚é»ƒä»å‹³ç¨± Blackwell éœ€æ±‚ç˜‹ç‹‚ã€‚",
        tags: "#æ™¶åœ“ä»£å·¥ #ç¾åœ‹å» "
    },
    {
        id: "N02", type: "æŠ•è¡Œå¿«è¨Š", date: "2025/11/19", company: "è¯ç™¼ç§‘", code: "2454",
        source: "Morgan Stanley", cat: "æ–°å“ç™¼è¡¨", imp: "ä¸­",
        content: "å¤§æ‘©ï¼šå¤©ç’£ 9400 ä¸­åœ‹éŠ·é‡ä½³ï¼Œå—æƒ  Vivo/Oppoã€‚",
        tags: "#å¤©ç’£9400"
    }
];

// 3. ç”¢æ¥­ (6æ¬„ä½)
const DB_IND = [
    { code:"2330", name:"å°ç©é›»", market:"ä¸Šå¸‚", main:"åŠå°é«”", sub:"æ™¶åœ“ä»£å·¥", pos:"å…¨çƒæ™¶åœ“ä»£å·¥é¾é ­ (å¸‚å >60%)" },
    { code:"2357", name:"è¯ç¢©", market:"ä¸Šå¸‚", main:"é›»è…¦é€±é‚Š", sub:"PC/ä¼ºæœå™¨", pos:"å…¨çƒä¸»æ©Ÿæ¿ç¬¬ä¸€å¤§ï¼ŒROG é›»ç«¶é¾é ­" }
];

/* App é‚è¼¯ 
*/
const app = {
    history: ['homeView'],

    init: function() {
        this.renderHomeFeed();
        this.renderNews();
        this.searchInd('');
    },

    switchView: function(id) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        
        // Nav Update
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        if(id==='homeView') document.querySelectorAll('.nav-btn')[0].classList.add('active');
        if(id==='industryView') document.querySelectorAll('.nav-btn')[1].classList.add('active');
        if(id==='newsView') document.querySelectorAll('.nav-btn')[2].classList.add('active');

        if(this.history[this.history.length-1] !== id) this.history.push(id);
        window.scrollTo(0,0);
    },

    back: function() {
        if(this.history.length > 1) { this.history.pop(); this.switchView(this.history.pop()); }
        else { this.switchView('homeView'); }
    },

    // æ¸²æŸ“é¦–é ä¸‹æ–¹åˆ—è¡¨
    renderHomeFeed: function() {
        const el = document.getElementById('home-feed');
        el.innerHTML = DB_REPORTS.map((d,i) => this.createReportCard(d, i)).join('');
    },

    // ç”¢ç”Ÿç ”å ±å¡ç‰‡ (å…±ç”¨)
    createReportCard: function(d, index) {
        return `
        <div class="data-card" onclick="app.showDetail(${index})">
            <div class="dc-head">
                <span class="dc-title">${d.company} ${d.code}</span>
                <span class="dc-tag ${d.rating==='è²·é€²'?'tag-buy':'tag-hold'}">${d.rating}</span>
            </div>
            <div class="dc-body">
                <b>${d.summary}</b><br>
                <span style="font-size:12px; color:#9ca3af">${d.date} Â· ${d.broker}</span>
            </div>
            <div class="dc-foot">
                <span>ğŸ¯ TP: ${d.target}</span>
                <span>${d.imp==='é«˜'?'ğŸ”¥ é«˜é‡è¦':''}</span>
                <span style="margin-left:auto">${d.tags.split(' ')[0]}</span>
            </div>
        </div>`;
    },

    // è·³è½‰åˆ°åˆ—è¡¨é 
    goList: function(type, filter) {
        const el = document.getElementById('list-container');
        const title = document.getElementById('list-title');
        let data = DB_REPORTS;
        
        if(filter === 'high') {
            data = DB_REPORTS.filter(d => d.imp === 'é«˜');
            title.innerText = "ç²¾é¸é‡é»å ±å‘Š";
        } else {
            title.innerText = "æ‰€æœ‰ç ”å ±åˆ—è¡¨";
        }
        
        el.innerHTML = data.map((d, i) => this.createReportCard(d, i)).join('');
        this.switchView('listView');
    },

    // é¡¯ç¤ºè©³æƒ… (Info Blocks)
    showDetail: function(index) {
        const d = DB_REPORTS[index];
        const el = document.getElementById('detail-content');
        el.innerHTML = '';

        const blocks = [
            { html: `<div class="info-block ib-meta">
                <div class="ib-head">ğŸ“Œ åŸºæœ¬è³‡è¨Š Report Info</div>
                <div style="font-size:24px; font-weight:800; color:#111827; margin-bottom:8px;">${d.company} ${d.code}</div>
                <div style="color:#6b7280; margin-bottom:16px;">${d.date} Â· ${d.broker} Â· ${d.analyst}</div>
                <div style="display:grid; grid-template-columns:repeat(3,1fr); gap:10px; border-top:1px solid #f3f4f6; padding-top:16px;">
                    <div><div style="font-size:12px;color:#9ca3af">è©•ç­‰</div><div style="font-weight:700;color:#ef4444">${d.rating}</div></div>
                    <div><div style="font-size:12px;color:#9ca3af">ç›®æ¨™åƒ¹</div><div style="font-weight:700">${d.target}</div></div>
                    <div><div style="font-size:12px;color:#9ca3af">é‡è¦æ€§</div><div style="font-weight:700">${d.imp}</div></div>
                </div>
            </div>`},
            { html: `<div class="info-block"><div class="ib-head">âš¡ æ‘˜è¦ Summary</div><div class="ib-content">${d.summary}</div></div>`},
            { html: `<div class="info-block"><div class="ib-head">ğŸ’° è²¡å‹™ Financials</div><div class="ib-content">${d.fin}</div></div>`},
            { html: `<div class="info-block"><div class="ib-head">ğŸ¢ ç‡Ÿé‹ Operations</div><div class="ib-content">${d.ops}</div></div>`},
            { html: `<div class="info-block"><div class="ib-head">ğŸ¯ ç­–ç•¥ Strategy</div><div class="ib-content">${d.strat}</div></div>`},
            { html: `<div class="info-block"><div class="ib-head">â“ QA æ‘˜è¦</div><div class="ib-content">${d.qa}</div></div>`},
            { html: `<div class="info-block ib-rex"><div class="ib-head" style="color:#b45309">ğŸ‘‘ Rex è§€å¯Ÿ</div><div class="ib-content" style="color:#92400e">${d.rex}</div></div>`},
            { html: `<div class="info-block"><div class="ib-head">ğŸ“… è¿½è¹¤ Follow-up</div><div class="ib-content">${d.follow}<br><br><span style="background:#f3f4f6;padding:4px 8px;border-radius:4px;font-size:12px;">${d.tags}</span></div></div>`}
        ];

        blocks.forEach((b, i) => setTimeout(() => {
            el.insertAdjacentHTML('beforeend', b.html);
            window.scrollTo(0, document.body.scrollHeight);
        }, i * 100));

        this.switchView('detailView');
    },

    // æ¸²æŸ“å¤–é›»
    renderNews: function() {
        const el = document.getElementById('news-container');
        el.innerHTML = DB_NEWS.map(n => `
            <div class="data-card" style="border-left:4px solid #f59e0b">
                <div class="dc-head">
                    <span style="color:#d97706; font-weight:700;">ğŸ“° ${n.source}</span>
                    <span style="color:#9ca3af; font-size:12px;">${n.date}</span>
                </div>
                <div style="font-weight:700; font-size:18px; margin-bottom:6px;">${n.company} <span style="font-weight:400; color:#9ca3af">${n.code}</span></div>
                <div style="margin-bottom:10px; display:flex; gap:6px;">
                    <span class="dc-tag tag-cat">${n.cat}</span>
                    <span class="dc-tag tag-buy">${n.imp}é‡è¦</span>
                </div>
                <div class="dc-body">${n.content}</div>
                <div class="dc-foot">
                    <span>ğŸ·ï¸ ${n.tags}</span>
                </div>
            </div>
        `).join('');
    },

    // æ¸²æŸ“ç”¢æ¥­
    searchInd: function(val) {
        const el = document.getElementById('ind-container');
        if(!val && val !== '') return;
        const res = val===''? DB_IND : DB_IND.filter(d => (d.code+d.name).includes(val));
        
        el.innerHTML = res.map(d => `
            <div class="data-card" style="border-left:4px solid #10b981">
                <div class="dc-head">
                    <span style="font-weight:800; font-size:18px; color:#064e3b">${d.name} <small style="color:#6b7280; font-weight:400">${d.code}</small></span>
                    <span style="background:#059669; color:white; font-size:11px; padding:2px 8px; border-radius:6px;">${d.market}</span>
                </div>
                <div style="color:#6b7280; font-size:13px; margin-bottom:8px;">${d.main} > ${d.sub}</div>
                <div style="background:#ecfdf5; padding:12px; border-radius:8px; color:#047857; font-size:14px; line-height:1.5; border:1px dashed #34d399;">
                    ğŸ† ${d.pos}
                </div>
            </div>
        `).join('');
    }
};

app.init();
</script>
</body>
</html>
