<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æŠ•è³‡ç ”å ±åŠ©æ‰‹ Ultimate</title>
<style>
    :root {
        /* ä¸»è‰²ç³»å®šç¾© */
        --primary: #6366f1; /* ç ”å ±ç´« */
        --ind-color: #10b981; /* ç”¢æ¥­ç¶  */
        --news-color: #f59e0b; /* å¤–é›»æ©˜ */
        
        /* æ¼¸å±¤èƒŒæ™¯ */
        --grad-main: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        --grad-ind: linear-gradient(135deg, #10b981 0%, #059669 100%);
        --grad-news: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        
        --bg: #f5f5f7; --text: #1f2937; --text-light: #6b7280;
        --card: #ffffff; --shadow: 0 2px 8px rgba(0,0,0,0.06);
    }
    body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding-bottom: 70px; -webkit-tap-highlight-color: transparent; }
    
    /* è¦–åœ–æ§åˆ¶ */
    .view { display: none; animation: fade 0.25s ease; min-height: 100vh; }
    .view.active { display: block; }
    @keyframes fade { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

    /* Header */
    .header { background: var(--grad-main); color: #fff; padding: 16px; position: sticky; top: 0; z-index: 10; display: flex; align-items: center; box-shadow: var(--shadow); transition: background 0.3s; }
    .header.ind-mode { background: var(--grad-ind); }
    .header.news-mode { background: var(--grad-news); }
    
    .header h1 { margin: 0; font-size: 18px; flex-grow: 1; text-align: center; font-weight: 600; }
    .btn-icon { background: none; border: none; color: #fff; font-size: 20px; cursor: pointer; padding: 0 10px; }

    /* é¦–é ç¶²æ ¼ä½ˆå±€ */
    .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; padding: 16px; }
    
    /* å¤§æ–¹å¡Šæ¨£å¼ (ç”¢æ¥­ & å¤–é›») */
    .big-card {
        grid-column: span 2; /* æ©«è·¨å…©æ¬„ */
        background: #fff;
        border-radius: 16px;
        padding: 20px;
        display: flex;
        align-items: center;
        gap: 16px;
        box-shadow: var(--shadow);
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }
    .big-card::after { content: '>'; position: absolute; right: 20px; color: #ccc; font-weight: bold; }
    
    /* å°æ–¹å¡Šæ¨£å¼ (ç ”å ±éæ¿¾) */
    .small-card {
        background: #fff;
        padding: 16px;
        border-radius: 12px;
        text-align: center;
        box-shadow: var(--shadow);
        cursor: pointer;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 8px;
    }
    .icon-circle { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; margin-bottom: 4px; }

    /* === å¤–é›»å¿«è¨Šå¡ç‰‡æ¨£å¼ === */
    .news-card { background: #fff; border-radius: 12px; margin-bottom: 16px; box-shadow: var(--shadow); overflow: hidden; border-left: 4px solid var(--news-color); }
    .news-header { padding: 12px 16px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
    .news-source { font-weight: bold; color: #d97706; display: flex; align-items: center; gap: 6px; font-size: 13px; }
    .news-time { font-size: 12px; color: #999; }
    .news-body { padding: 16px; }
    .news-title { font-size: 16px; font-weight: 700; margin-bottom: 10px; line-height: 1.4; }
    .news-content { font-size: 14px; color: #4b5563; line-height: 1.6; margin-bottom: 12px; }
    .news-footer { padding: 0 16px 16px; display: flex; gap: 8px; flex-wrap: wrap; }
    
    .impact-tag { padding: 2px 8px; border-radius: 4px; font-size: 11px; font-weight: bold; }
    .impact-bull { background: #fee2e2; color: #dc2626; } /* åˆ©å¤šç´… */
    .impact-bear { background: #d1fae5; color: #065f46; } /* åˆ©ç©ºç¶  (å°è‚¡ç¿’æ…£) */

    /* === ç”¢æ¥­å¡ç‰‡æ¨£å¼ (æ²¿ç”¨) === */
    .ind-card { background: #fff; border-radius: 16px; margin-bottom: 16px; box-shadow: var(--shadow); border: 1px solid #e5e7eb; }
    .ind-header { background: #ecfdf5; padding: 16px; border-bottom: 1px solid #d1fae5; display: flex; justify-content: space-between; align-items: center; }
    
    /* === å…±ç”¨æ¨£å¼ === */
    .search-box { background: #fff; padding: 12px; margin: 12px; border-radius: 12px; box-shadow: var(--shadow); }
    .input-field { width: 100%; padding: 10px; border: 2px solid #eee; border-radius: 8px; box-sizing: border-box; outline: none; }
    
    /* åº•éƒ¨å°èˆª */
    .nav { position: fixed; bottom: 0; width: 100%; background: #fff; border-top: 1px solid #eee; display: flex; justify-content: space-around; padding: 8px 0; z-index: 100; }
    .nav-item { text-align: center; color: var(--text-light); font-size: 10px; cursor: pointer; flex: 1; }
    .nav-item.active { color: var(--primary); }
    .nav-icon { font-size: 22px; display: block; margin-bottom: 2px; }
</style>
</head>
<body>

<div id="home" class="view active">
    <div class="header">
        <div style="width:20px"></div>
        <h1>æŠ•è³‡ç ”å ±åŠ©æ‰‹</h1>
        <div style="width:20px"></div>
    </div>

    <div class="grid">
        <div class="big-card" onclick="app.go('industryView')" style="border-left: 5px solid var(--ind-color);">
            <div style="font-size:32px;">ğŸ­</div>
            <div>
                <div style="font-size:16px; font-weight:bold; color:#065f46;">ç”¢æ¥­ç™¾ç§‘</div>
                <div style="font-size:12px; color:#6b7280;">ä¾›æ‡‰éˆåœ°ä½ã€ç«¶çˆ­å„ªå‹¢æŸ¥è©¢</div>
            </div>
        </div>

        <div class="big-card" onclick="app.go('newsView')" style="border-left: 5px solid var(--news-color);">
            <div style="font-size:32px;">âš¡</div>
            <div>
                <div style="font-size:16px; font-weight:bold; color:#d97706;">å¤–é›»å¿«è¨Š</div>
                <div style="font-size:12px; color:#6b7280;">Bloombergã€æŠ•è¡Œå³æ™‚è§€é»</div>
            </div>
        </div>

        <div class="small-card" onclick="app.filterReports('new')">
            <div class="icon-circle" style="background:#e0e7ff; color:#4338ca;">ğŸ“</div>
            <div style="font-size:13px;">æœ€æ–°ç ”å ±</div>
        </div>
        <div class="small-card" onclick="app.filterReports('high')">
            <div class="icon-circle" style="background:#fee2e2; color:#dc2626;">ğŸ”¥</div>
            <div style="font-size:13px;">é«˜é‡è¦æ€§</div>
        </div>
        <div class="small-card" onclick="app.filterReports('ai')">
            <div class="icon-circle" style="background:#dcfce7; color:#15803d;">ğŸ¤–</div>
            <div style="font-size:13px;">AI å°ˆå€</div>
        </div>
        <div class="small-card" onclick="app.filterReports('all')">
            <div class="icon-circle" style="background:#f3f4f6; color:#374151;">ğŸ“‚</div>
            <div style="font-size:13px;">æ‰€æœ‰å ±å‘Š</div>
        </div>
    </div>

    <div style="padding: 0 16px;">
        <h3 style="margin: 10px 4px; font-size: 16px; color:#444;">ğŸ“Œ æœ€æ–°æ‘˜è¦</h3>
        <div id="home-report-list"></div>
    </div>
</div>

<div id="industryView" class="view">
    <div class="header ind-mode">
        <button class="btn-icon" onclick="app.back()">â†</button>
        <h1>ç”¢æ¥­åœ°ä½æŸ¥è©¢</h1>
        <div style="width:40px"></div>
    </div>
    <div class="search-box">
        <input type="text" class="input-field" placeholder="è¼¸å…¥ä»£è™Ÿ (å¦‚ 2330) æˆ–åç¨±..." onkeyup="app.searchIndustry(this.value)">
    </div>
    <div id="ind-result" style="padding: 0 16px;">
        <div style="text-align:center; padding:40px; color:#999;">
            è«‹è¼¸å…¥é—œéµå­—æŸ¥è©¢<br>ä¾‹å¦‚ï¼šå°ç©é›»ã€ä¼ºæœå™¨
        </div>
    </div>
</div>

<div id="newsView" class="view">
    <div class="header news-mode">
        <button class="btn-icon" onclick="app.back()">â†</button>
        <h1>å¤–é›»ç¶œåˆå ±å°</h1>
        <div style="width:40px"></div>
    </div>
    <div id="news-list" style="padding: 16px;">
        </div>
</div>

<div id="reportListView" class="view">
    <div class="header">
        <button class="btn-icon" onclick="app.back()">â†</button>
        <h1 id="list-title">å ±å‘Šåˆ—è¡¨</h1>
        <div style="width:40px"></div>
    </div>
    <div id="report-list-container" style="padding: 16px;"></div>
</div>

<div id="reportDetailView" class="view">
    <div class="header">
        <button class="btn-icon" onclick="app.back()">â†</button>
        <h1>å ±å‘Šè©³æƒ…</h1>
        <div style="width:40px"></div>
    </div>
    <div id="detail-content" style="padding:20px; background:#fff; min-height:90vh;"></div>
</div>

<div class="nav">
    <div class="nav-item active" onclick="app.go('home')"><span class="nav-icon">ğŸ </span>é¦–é </div>
    <div class="nav-item" onclick="app.go('industryView')"><span class="nav-icon">ğŸ­</span>ç”¢æ¥­</div>
    <div class="nav-item" onclick="app.go('newsView')"><span class="nav-icon">âš¡</span>å¤–é›»</div>
    <div class="nav-item"><span class="nav-icon">ğŸ‘¤</span>æˆ‘çš„</div>
</div>

<script>
// === è³‡æ–™åº« ===

// 1. ç ”å ±è³‡æ–™
const DB_REPORTS = [
    { id: 1, company: "è¯ç¢©", code: "2357", summary: "3Q25å‰µæ–°é«˜ï¼ŒAIä¼ºæœå™¨å æ¯”20%ã€‚", importance: "high", tags: ["AI", "PC"], detail: "å…§å®¹..." },
    { id: 2, company: "å°ç©é›»", code: "2330", summary: "3å¥ˆç±³ç”¢èƒ½æ»¿è¼‰ï¼ŒCoWoSæ“´ç”¢ã€‚", importance: "high", tags: ["åŠå°é«”"], detail: "å…§å®¹..." },
    { id: 3, company: "å»£é”", code: "2382", summary: "GB200æ•´æ©Ÿæ«ƒæ˜å¹´Q1å‡ºè²¨ã€‚", importance: "high", tags: ["AI", "ä¼ºæœå™¨"], detail: "å…§å®¹..." },
    { id: 4, company: "è¯ç™¼ç§‘", code: "2454", summary: "å¤©ç’£9400åæ‡‰ä½³ã€‚", importance: "normal", tags: ["æ‰‹æ©Ÿ"], detail: "å…§å®¹..." }
];

// 2. ç”¢æ¥­è³‡æ–™
const DB_INDUSTRY = [
    { code: "2330", name: "å°ç©é›»", main: "åŠå°é«”", position: "å…¨çƒæ™¶åœ“ä»£å·¥é¾é ­", desc: "å…ˆé€²è£½ç¨‹ç¨éœ¸ï¼ŒAIæ™¶ç‰‡ç¨å®¶ä¾›æ‡‰å•†ã€‚" },
    { code: "2317", name: "é´»æµ·", main: "çµ„è£", position: "é›»å­ä»£å·¥é¾é ­", desc: "å–å¾—NVL72é¦–æ‰¹å‡ºè²¨æ¬Šï¼ŒAIä¼ºæœå™¨çµ„è£å·¨é ­ã€‚" },
    { code: "2357", name: "è¯ç¢©", main: "PCå“ç‰Œ", position: "æ¿å¡é¾é ­", desc: "é›»ç«¶å“ç‰Œå¼·å‹¢ï¼Œç©æ¥µåˆ‡å…¥AIä¼ºæœå™¨ã€‚" }
];

// 3. å¤–é›»è³‡æ–™ (æ¨¡æ“¬ CSV å…§å®¹)
const DB_NEWS = [
    { 
        source: "Bloomberg", time: "10:30", 
        title: "NVIDIA GB200 ä¾›æ‡‰éˆæœ€æ–°ç‹€æ³æ›´æ–°", 
        content: "ä¾›æ‡‰éˆæŒ‡å‡º B200 æ™¶ç‰‡è‰¯ç‡å•é¡Œå·²è§£æ±ºï¼Œé è¨ˆ 12 æœˆé–‹å§‹å°é‡å‡ºè²¨ã€‚é´»æµ· (2317) èˆ‡ å»£é” (2382) ç¶­æŒé¦–æ³¢å‡ºè²¨åœ°ä½ã€‚",
        impact: "bull", // bull=åˆ©å¤š, bear=åˆ©ç©º
        related: ["2317", "2382", "NVDA"]
    },
    { 
        source: "Morgan Stanley", time: "09:15", 
        title: "è¨˜æ†¶é«”ç”¢æ¥­ï¼šå¯’å†¬å°‡è‡³é‚„æ˜¯çŸ­æš«èª¿æ•´ï¼Ÿ", 
        content: "å¤§æ‘©ç™¼å¸ƒæœ€æ–°å ±å‘Šï¼Œèªç‚ºæ¶ˆè²»æ€§é›»å­éœ€æ±‚ç–²è»Ÿï¼ŒDRAM åƒ¹æ ¼æåœ¨ Q4 è¦‹é ‚ã€‚ä¸‹èª¿ ç¾å…‰ åŠ éŸ“ç³»è¨˜æ†¶é«”å» è©•ç­‰ã€‚",
        impact: "bear",
        related: ["2408", "3260"]
    },
    { 
        source: "Reuters", time: "08:45", 
        title: "å°ç©é›»äºåˆ©æ¡‘é‚£å» è‰¯ç‡è¶…è¶Šå°ç£å» ", 
        content: "å°ç©é›»ç¾åœ‹å»  4nm è£½ç¨‹è‰¯ç‡å„ªæ–¼é æœŸï¼Œç”šè‡³ç•¥é«˜æ–¼å°ç£å—ç§‘å» ã€‚ä¸»è¦å—æƒ æ–¼è¨­å‚™è¼ƒæ–°åŠè‡ªå‹•åŒ–ç¨‹åº¦é«˜ã€‚",
        impact: "bull",
        related: ["2330"]
    }
];

// === æ‡‰ç”¨é‚è¼¯ ===
const app = {
    history: ['home'],

    init: function() {
        // åˆå§‹åŒ–é¦–é æ‘˜è¦
        const list = document.getElementById('home-report-list');
        list.innerHTML = DB_REPORTS.slice(0, 2).map(d => `
            <div style="background:#fff; padding:12px; border-radius:8px; margin-bottom:8px; box-shadow:0 1px 3px rgba(0,0,0,0.1);">
                <div style="font-weight:bold;">${d.company} <span style="color:#999; font-weight:normal;">${d.code}</span></div>
                <div style="font-size:13px; color:#666;">${d.summary}</div>
            </div>
        `).join('');
        
        // åˆå§‹åŒ–å¤–é›»åˆ—è¡¨
        this.renderNews();
    },

    // --- å°èˆªç³»çµ± ---
    go: function(viewId) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
        document.getElementById(viewId).classList.add('active');
        if(this.history[this.history.length-1] !== viewId) this.history.push(viewId);
        window.scrollTo(0,0);
        this.updateNav(viewId);
    },

    back: function() {
        if(this.history.length > 1) {
            this.history.pop();
            this.go(this.history.pop());
        } else {
            this.go('home');
        }
    },

    updateNav: function(viewId) {
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        const map = { 'home':0, 'industryView':1, 'newsView':2 };
        if(map[viewId] !== undefined) document.querySelectorAll('.nav-item')[map[viewId]].classList.add('active');
    },

    // --- å¤–é›»åŠŸèƒ½ (Render) ---
    renderNews: function() {
        const container = document.getElementById('news-list');
        container.innerHTML = DB_NEWS.map(item => `
            <div class="news-card">
                <div class="news-header">
                    <div class="news-source">
                        <span>ğŸ“°</span> ${item.source}
                    </div>
                    <div class="news-time">${item.time}</div>
                </div>
                <div class="news-body">
                    <div class="news-title">${item.title}</div>
                    <div class="news-content">${item.content}</div>
                    <div class="news-footer">
                        <span class="impact-tag ${item.impact === 'bull' ? 'impact-bull' : 'impact-bear'}">
                            ${item.impact === 'bull' ? 'â–² çœ‹å¤š/æ­£é¢' : 'â–¼ çœ‹ç©º/è² é¢'}
                        </span>
                        ${item.related.map(tag => `<span style="background:#f3f4f6; padding:2px 6px; border-radius:4px; font-size:11px; color:#666;">#${tag}</span>`).join('')}
                    </div>
                </div>
            </div>
        `).join('');
    },

    // --- ç”¢æ¥­æœå°‹åŠŸèƒ½ ---
    searchIndustry: function(val) {
        const container = document.getElementById('ind-result');
        if(!val) { container.innerHTML = ''; return; }
        const res = DB_INDUSTRY.filter(d => (d.name+d.code+d.main).includes(val));
        
        if(res.length === 0) { container.innerHTML = '<div style="text-align:center; padding:20px; color:#999">æŸ¥ç„¡è³‡æ–™</div>'; return; }

        container.innerHTML = res.map(d => `
            <div class="ind-card">
                <div class="ind-header">
                    <span style="font-weight:bold; color:#065f46; font-size:18px;">${d.name} ${d.code}</span>
                    <span style="background:#10b981; color:#fff; padding:2px 8px; border-radius:10px; font-size:12px;">${d.main}</span>
                </div>
                <div style="padding:16px;">
                    <div style="margin-bottom:8px;"><strong>ğŸ† åœ°ä½ï¼š</strong>${d.position}</div>
                    <div style="font-size:14px; color:#555; line-height:1.5;">${d.desc}</div>
                </div>
            </div>
        `).join('');
    },

    // --- ç ”å ±éæ¿¾ ---
    filterReports: function(type) {
        let res = DB_REPORTS;
        if(type === 'high') res = DB_REPORTS.filter(x => x.importance === 'high');
        else if(type === 'ai') res = DB_REPORTS.filter(x => x.tags.includes('AI'));
        
        const html = res.map(d => `
            <div class="small-card" style="flex-direction:column; align-items:start; text-align:left; margin-bottom:10px; width:auto;" onclick="app.showReportDetail(${d.id})">
                <div style="font-weight:bold;">${d.company} (${d.code})</div>
                <div style="color:#666; font-size:13px; margin:4px 0;">${d.summary}</div>
                <div style="font-size:12px; color:#primary;">${d.tags.map(t=>'#'+t).join(' ')}</div>
            </div>
        `).join('');
        
        document.getElementById('report-list-container').innerHTML = html;
        document.getElementById('list-title').innerText = type === 'all' ? 'æ‰€æœ‰å ±å‘Š' : 'ç¯©é¸çµæœ';
        this.go('reportListView');
    },

    showReportDetail: function(id) {
        document.getElementById('detail-content').innerText = "é€™è£¡æ˜¯è©³ç´°å ±å‘Šå…§å®¹...";
        this.go('reportDetailView');
    }
};

app.init();
</script>
</body>
</html>
