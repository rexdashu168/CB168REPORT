<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rex æŠ•è³‡æ±ºç­–ç³»çµ± Ultimate</title>
<style>
    :root {
        /* === ç³»çµ±è‰²ç¥¨ === */
        --primary: #4f46e5;       /* ä¸»è‰²ï¼šå°ˆæ¥­è— */
        --primary-light: #eef2ff;
        
        --c-rpt: #6366f1;         /* ç ”å ±è‰² */
        --c-news: #f59e0b;        /* å¤–é›»è‰² */
        --c-ind: #10b981;         /* ç”¢æ¥­è‰² */
        --c-imp: #ef4444;         /* é‡è¦/é«˜æ¨™ */
        
        --bg-body: #f8fafc;       /* èƒŒæ™¯ï¼šæ·ºç°ç™½ */
        --bg-card: #ffffff;
        --text-main: #1e293b;     /* æ·±ç°é»‘ */
        --text-sub: #64748b;      /* æ¬¡è¦ç° */
        
        --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
        --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1);
        --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1);
        
        --radius: 16px;
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", "Microsoft JhengHei", sans-serif;
        background: var(--bg-body);
        color: var(--text-main);
        margin: 0;
        padding-bottom: 90px; /* é¿é–‹åº•éƒ¨å°èˆª */
        line-height: 1.6;
        -webkit-tap-highlight-color: transparent;
    }

    /* === è¦–åœ–èˆ‡å‹•ç•« === */
    .view { display: none; min-height: 100vh; animation: fadeUp 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
    .view.active { display: block; }
    @keyframes fadeUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* === é ‚éƒ¨ Header === */
    .header {
        background: rgba(255,255,255,0.95);
        backdrop-filter: blur(10px);
        padding: 16px 20px;
        position: sticky;
        top: 0;
        z-index: 50;
        border-bottom: 1px solid #e2e8f0;
        display: flex;
        align-items: center;
        justify-content: space-between;
        box-shadow: var(--shadow-sm);
    }
    .header h1 { font-size: 18px; margin: 0; font-weight: 800; letter-spacing: -0.5px; color: #0f172a; }
    .btn-back { border: none; background: none; font-size: 22px; cursor: pointer; padding: 0 12px 0 0; color: #334155; }

    /* === 1. é¦–é ï¼šç¶“å…¸å››æ–¹æ ¼ === */
    .grid-container { padding: 20px; max-width: 800px; margin: 0 auto; }
    .home-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    
    .big-card {
        background: var(--bg-card);
        border-radius: var(--radius);
        padding: 24px;
        height: 140px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        box-shadow: var(--shadow-md);
        cursor: pointer;
        position: relative;
        overflow: hidden;
        border: 1px solid rgba(0,0,0,0.03);
        transition: transform 0.2s;
    }
    .big-card:active { transform: scale(0.98); }
    
    /* è£é£¾ç·šæ¢ */
    .bc-rpt { border-left: 6px solid var(--c-rpt); background: linear-gradient(135deg, #fff 0%, #f5f3ff 100%); }
    .bc-imp { border-left: 6px solid var(--c-imp); background: linear-gradient(135deg, #fff 0%, #fef2f2 100%); }
    .bc-ind { border-left: 6px solid var(--c-ind); background: linear-gradient(135deg, #fff 0%, #ecfdf5 100%); }
    .bc-news { border-left: 6px solid var(--c-news); background: linear-gradient(135deg, #fff 0%, #fffbeb 100%); }

    .bc-icon { font-size: 32px; margin-bottom: 8px; }
    .bc-title { font-size: 16px; font-weight: 700; color: #1e293b; margin-bottom: 4px; }
    .bc-desc { font-size: 12px; color: #64748b; font-weight: 500; }

    /* === 2. ç ”å ±è©³æƒ…ï¼šChat UI (19æ¬„ä½) === */
    .chat-view { padding: 20px; max-width: 700px; margin: 0 auto; display: flex; flex-direction: column; gap: 24px; }
    
    .bubble {
        background: var(--bg-card);
        border-radius: 4px 20px 20px 20px; /* å°è©±æ¡†é€ å‹ */
        padding: 24px;
        box-shadow: var(--shadow-md);
        opacity: 0;
        transform: translateY(20px);
        animation: popIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        border: 1px solid #f1f5f9;
    }
    @keyframes popIn { to { opacity: 1; transform: translateY(0); } }

    /* æ°£æ³¡å…§éƒ¨æ¨£å¼ */
    .sec-title { 
        font-size: 13px; font-weight: 700; color: #94a3b8; text-transform: uppercase; letter-spacing: 1px; 
        margin-bottom: 12px; display: flex; align-items: center; gap: 8px;
    }
    .content-txt { font-size: 16px; color: #334155; line-height: 1.75; white-space: pre-line; }
    
    /* ç‰¹æ®Šæ°£æ³¡ */
    .b-meta { border-left: 4px solid var(--c-rpt); }
    .meta-lg { font-size: 24px; font-weight: 800; margin: 8px 0; color: #0f172a; }
    .meta-row { display: flex; justify-content: space-between; font-size: 13px; color: #64748b; margin-bottom: 4px; }
    
    .b-rating { background: #f8fafc; }
    .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; text-align: center; }
    .g-label { font-size: 11px; color: #94a3b8; margin-bottom: 4px; }
    .g-val { font-size: 16px; font-weight: 700; color: #0f172a; }
    .val-red { color: #ef4444; }

    .b-rex { 
        background: #fffbeb; border: 1px solid #fcd34d; position: relative; overflow: hidden; 
    }
    .b-rex::after { content: 'ğŸ‘‘'; position: absolute; top: -10px; right: -10px; font-size: 80px; opacity: 0.1; pointer-events: none; }

    /* === 3. ç”¢æ¥­ç™¾ç§‘å¡ç‰‡ (6æ¬„ä½) === */
    .ind-card {
        background: #fff; border-radius: 16px; padding: 0; margin-bottom: 16px;
        box-shadow: var(--shadow-md); border: 1px solid #e2e8f0; overflow: hidden;
    }
    .ind-head {
        background: #f0fdf4; padding: 16px; border-bottom: 1px solid #dcfce7;
        display: flex; justify-content: space-between; align-items: center;
    }
    .ind-name { font-size: 18px; font-weight: 800; color: #064e3b; }
    .ind-market { 
        background: #059669; color: #fff; padding: 2px 8px; border-radius: 6px; 
        font-size: 11px; font-weight: 600; letter-spacing: 0.5px;
    }
    .ind-body { padding: 16px; }
    .ind-row { display: flex; margin-bottom: 12px; }
    .ind-label { width: 70px; font-size: 13px; color: #64748b; font-weight: 500; flex-shrink: 0; }
    .ind-val { font-size: 15px; color: #1e293b; font-weight: 500; }
    .ind-pos-box { 
        background: #ecfdf5; padding: 12px; border-radius: 8px; border: 1px dashed #34d399;
        color: #047857; font-size: 14px; line-height: 1.5; margin-top: 8px;
    }

    /* === 4. å¤–é›»å ±å°å¡ç‰‡ (10æ¬„ä½) === */
    .news-card {
        background: #fff; border-radius: 16px; margin-bottom: 16px;
        box-shadow: var(--shadow-md); border: 1px solid #e2e8f0; overflow: hidden;
    }
    .news-top {
        padding: 12px 16px; background: #fff7ed; border-bottom: 1px solid #ffedd5;
        display: flex; justify-content: space-between; align-items: center;
    }
    .news-src { font-weight: 700; color: #ea580c; font-size: 13px; display: flex; align-items: center; gap: 6px; }
    .news-date { font-size: 12px; color: #9a3412; }
    
    .news-mid { padding: 16px 16px 10px; }
    .news-co { font-size: 18px; font-weight: 800; color: #1e293b; margin-right: 8px; }
    .news-code { font-size: 14px; color: #64748b; }
    .news-badges { display: flex; gap: 8px; margin: 8px 0 12px; }
    .nb-cat { background: #e0f2fe; color: #0284c7; padding: 2px 8px; border-radius: 6px; font-size: 11px; font-weight: 600; }
    .nb-imp { background: #fee2e2; color: #dc2626; padding: 2px 8px; border-radius: 6px; font-size: 11px; font-weight: 600; }
    
    .news-txt { padding: 0 16px 16px; font-size: 15px; color: #334155; line-height: 1.7; border-bottom: 1px solid #f8fafc; }
    .news-bot { padding: 10px 16px; background: #fafaf9; font-size: 12px; color: #78716c; display: flex; justify-content: space-between; }

    /* åº•éƒ¨å°èˆª */
    .nav {
        position: fixed; bottom: 0; width: 100%; background: rgba(255,255,255,0.95);
        backdrop-filter: blur(10px); border-top: 1px solid #e2e8f0;
        display: flex; justify-content: space-around; padding: 10px 0 20px; z-index: 100;
    }
    .nav-item { text-align: center; color: #94a3b8; font-size: 10px; cursor: pointer; flex: 1; transition: 0.2s; }
    .nav-item.active { color: var(--primary); transform: translateY(-2px); }
    .nav-icon { font-size: 24px; display: block; margin-bottom: 2px; }

    /* åˆ—è¡¨é …ç›® */
    .list-item { background: #fff; padding: 18px; border-radius: 16px; margin-bottom: 12px; box-shadow: var(--shadow-sm); cursor: pointer; display: flex; justify-content: space-between; align-items: center; }
</style>
</head>
<body>

<div id="home" class="view active">
    <div class="header">
        <h1>Rex æŠ•è³‡æ±ºç­–ç³»çµ±</h1>
    </div>
    <div class="grid-container">
        <div class="home-grid">
            <div class="big-card bc-rpt" onclick="app.showList('all')">
                <div class="bc-icon">ğŸ“</div>
                <div><div class="bc-title">æ‰€æœ‰ç ”å ±</div><div class="bc-desc">19 æ¬„ä½æ·±åº¦è§£æ</div></div>
            </div>
            <div class="big-card bc-imp" onclick="app.showList('high')">
                <div class="bc-icon">ğŸ”¥</div>
                <div><div class="bc-title">é«˜é‡è¦æ€§</div><div class="bc-desc">Rex ç²¾é¸é‡é»</div></div>
            </div>
            <div class="big-card bc-ind" onclick="app.go('industryView')">
                <div class="bc-icon">ğŸ­</div>
                <div><div class="bc-title">ç”¢æ¥­ç™¾ç§‘</div><div class="bc-desc">å…¨å¸‚å ´å®šä½æŸ¥è©¢</div></div>
            </div>
            <div class="big-card bc-news" onclick="app.go('newsView')">
                <div class="bc-icon">âš¡</div>
                <div><div class="bc-title">å¤–é›»å¿«è¨Š</div><div class="bc-desc">å³æ™‚æƒ…å ±ç¶²</div></div>
            </div>
        </div>
        <div style="margin-top:24px; text-align:center; font-size:12px; color:#94a3b8;">
            ç³»çµ±ç‹€æ…‹ï¼šè³‡æ–™åº«å·²é€£ç·š (2025/11/19 æ›´æ–°)
        </div>
    </div>
</div>

<div id="listView" class="view">
    <div class="header">
        <button class="btn-back" onclick="app.back()">â†</button>
        <h1 id="listTitle">å ±å‘Šåˆ—è¡¨</h1>
        <div style="width:24px"></div>
    </div>
    <div class="grid-container" id="listContainer"></div>
</div>

<div id="detailView" class="view">
    <div class="header">
        <button class="btn-back" onclick="app.back()">â†</button>
        <h1>æ·±åº¦è§£æ</h1>
        <div style="width:24px"></div>
    </div>
    <div class="chat-view" id="chatContent"></div>
</div>

<div id="industryView" class="view">
    <div class="header" style="background:#f0fdf4">
        <button class="btn-back" onclick="app.back()">â†</button>
        <h1 style="color:#064e3b">ç”¢æ¥­ç™¾ç§‘</h1>
        <div style="width:24px"></div>
    </div>
    <div class="grid-container">
        <div style="position:sticky; top:10px; z-index:10; background:#f8fafc; padding-bottom:10px;">
            <input type="text" placeholder="è¼¸å…¥ä»£è™Ÿ (å¦‚ 2330) æˆ–åç¨±..." onkeyup="app.searchInd(this.value)" 
                   style="width:100%; padding:14px; border:2px solid #e2e8f0; border-radius:12px; font-size:16px; outline:none; box-shadow:var(--shadow-sm);">
        </div>
        <div id="indResult" style="padding-top:10px;"></div>
    </div>
</div>

<div id="newsView" class="view">
    <div class="header" style="background:#fff7ed">
        <button class="btn-back" onclick="app.back()">â†</button>
        <h1 style="color:#9a3412">å¤–é›»æƒ…å ±</h1>
        <div style="width:24px"></div>
    </div>
    <div class="grid-container" id="newsContainer"></div>
</div>

<div class="nav">
    <div class="nav-item active" onclick="app.go('home')"><span class="nav-icon">ğŸ </span>é¦–é </div>
    <div class="nav-item" onclick="app.go('industryView')"><span class="nav-icon">ğŸ­</span>ç”¢æ¥­</div>
    <div class="nav-item" onclick="app.go('newsView')"><span class="nav-icon">âš¡</span>å¤–é›»</div>
</div>

<script>
// ==========================================
// 1. ç ”å ±è³‡æ–™åº« (19 æ¬„ä½)
// ==========================================
const DB_REPORTS = [
    {
        "ç·¨è™Ÿ": "R1119-01",
        "å…¬å¸": "è¯ç¢©", "è‚¡è™Ÿ": "2357", "å ±å‘Šæ—¥æœŸ": "2025/11/19", "åˆ¸å•†": "å…ƒå¤§æŠ•é¡§", "åˆ†æå¸«": "é­å»ºç™¼",
        "ç”¢æ¥­": "PC/ä¼ºæœå™¨", "å ±å‘Šé¡å‹": "Call Memo", "æŠ•è³‡è©•ç­‰": "è²·é€²", "ç›®æ¨™åƒ¹": "700", "é‡è¦æ€§": "é«˜",
        "é—œéµè²¡å‹™æ•¸æ“š": "3Q25 ç‡Ÿæ”¶ 1,899å„„ (QoQ+9%)ï¼ŒEPS 14.2å…ƒã€‚æ¯›åˆ©ç‡ 17.2%ã€‚",
        "ç²¾ç°¡é‡é»æ‘˜è¦": "ä¼ºæœå™¨ç‡Ÿæ”¶ä½”æ¯”æ˜å¹´æŒ‘æˆ° 20%ï¼ŒGB200 å‡ºè²¨é †æš¢ã€‚",
        "ç‡Ÿé‹é‡é»": "1. ä¼ºæœå™¨ï¼šé è¨ˆ 2025 å¹´å€å¢ï¼Œå—æƒ  Tier-1 CSPã€‚\n2. PCï¼šAI PC å¸‚å ç‡ 25%ï¼Œå•†ç”¨æ›æ©Ÿæ½®å°‡é¡¯ç¾ã€‚",
        "ç­–ç•¥æ–¹å‘": "å…¨åŠ›è½‰å‹ AI ä¼ºæœå™¨è§£æ±ºæ–¹æ¡ˆï¼Œä¸¦æ“´å¤§é‚Šç·£é‹ç®—ä½ˆå±€ã€‚",
        "é‡è¦QAæ‘˜è¦": "Q: GB200 å‡ºè²¨é€²åº¦ï¼Ÿ A: 12æœˆå°é‡ï¼Œæ˜å¹´Q1æ”¾é‡ã€‚\nQ: æ¯›åˆ©ç‡è¶¨å‹¢ï¼Ÿ A: ç”¢å“çµ„åˆå„ªåŒ–æŠµéŠ·åˆæœŸæŠ˜èˆŠã€‚",
        "Rexè§€å¯Ÿ": "è¯ç¢©æ˜¯é€™æ³¢ AI ä¼ºæœå™¨è¢«ä½ä¼°çš„æ¨™çš„ã€‚é›–ç„¶èµ·æ­¥è¼ƒæ™šï¼Œä½†æ†‘è—‰æ¿å¡å„ªå‹¢èˆ‡ NV é—œä¿‚ï¼Œè¿½è¶•é€Ÿåº¦æ¥µå¿«ã€‚æœ¬ç›Šæ¯”ä¿®æ­£å¾Œå…·å¸å¼•åŠ›ã€‚",
        "å¾ŒçºŒè¿½è¹¤": "1æœˆ CES å±•æ–°å“ç™¼å¸ƒç‹€æ³ã€‚", "æ¨™ç±¤": "#AIä¼ºæœå™¨ #GB200"
    },
    {
        "ç·¨è™Ÿ": "R1119-02",
        "å…¬å¸": "è‡´èŒ‚", "è‚¡è™Ÿ": "2360", "å ±å‘Šæ—¥æœŸ": "2025/11/19", "åˆ¸å•†": "æ‘©æ ¹å£«ä¸¹åˆ©", "åˆ†æå¸«": "Sharon Shih",
        "ç”¢æ¥­": "å„€å™¨è¨­å‚™", "å ±å‘Šé¡å‹": "å€‹è‚¡å ±å‘Š", "æŠ•è³‡è©•ç­‰": "å„ªæ–¼å¤§ç›¤", "ç›®æ¨™åƒ¹": "520", "é‡è¦æ€§": "ä¸­",
        "é—œéµè²¡å‹™æ•¸æ“š": "é ä¼° Q4 ç‡Ÿæ”¶å­£å¢ 15%ï¼ŒSLT ç‡Ÿæ”¶ä½”æ¯”é” 25%ã€‚",
        "ç²¾ç°¡é‡é»æ‘˜è¦": "SLT æ¸¬è©¦è¨­å‚™éœ€æ±‚å¼·å‹ï¼Œèƒ½è¦‹åº¦é” 2026ã€‚",
        "ç‡Ÿé‹é‡é»": "1. AI æ™¶ç‰‡ï¼šBlackwell åŠŸè€—æå‡å¸¶å‹•æ¸¬è©¦æ™‚é–“æ‹‰é•·ã€‚\n2. Photonicsï¼šCPO æ¸¬è©¦è¨­å‚™é€šéç¾ç³»é©—è­‰ã€‚",
        "ç­–ç•¥æ–¹å‘": "æ·±è€•åŠå°é«”å¾Œæ®µæ¸¬è©¦ (Final Test) èˆ‡çŸ½å…‰å­å¸‚å ´ã€‚",
        "é‡è¦QAæ‘˜è¦": "Q: CoWoS æ“´ç”¢å½±éŸ¿ï¼Ÿ A: æ­£å‘ï¼Œå¸¶å‹•å¾Œæ®µæ¸¬è©¦éœ€æ±‚ã€‚",
        "Rexè§€å¯Ÿ": "è¨­å‚™è‚¡ç‹ã€‚æ¸¬è©¦æ™‚é–“æ‹‰é•·æ˜¯æœ€å¤§åˆ©å¤šï¼Œå»ºè­°æ‹‰å›æ‰¾è²·é»ã€‚",
        "å¾ŒçºŒè¿½è¹¤": "CoWoS æ“´ç”¢é€²åº¦èˆ‡ CPO è¨‚å–®ã€‚", "æ¨™ç±¤": "#CoWoS #CPO"
    }
];

// ==========================================
// 2. å¤–é›»è³‡æ–™åº« (10 æ¬„ä½)
// ==========================================
const DB_NEWS = [
    {
        "ç·¨è™Ÿ": "N001", "è³‡æ–™é¡å‹": "å¤–é›»å ±å°", "æ—¥æœŸ": "2025/11/19", "å…¬å¸": "å°ç©é›»", "è‚¡è™Ÿ": "2330",
        "åˆ¸å•†ä¾†æº": "Bloomberg", "å ±å°é‡é»åˆ†é¡": "ç‡Ÿé‹å±•æœ›", "é‡è¦æ€§": "é«˜",
        "å®Œæ•´å ±å°å…§å®¹": "å½­åšç¤¾å ±å°ï¼Œå°ç©é›»äºåˆ©æ¡‘é‚£å»  (Fab 21) åˆæœŸè‰¯ç‡å·²è¶…è¶Šå°ç£å» å€ã€‚Nvidia é»ƒä»å‹³è¡¨ç¤º Blackwell éœ€æ±‚ç˜‹ç‹‚ï¼Œå°ç©é›»æ˜¯å”¯ä¸€åˆä½œå¤¥ä¼´ã€‚",
        "æ¨™ç±¤": "#æ™¶åœ“ä»£å·¥ #ç¾åœ‹å» "
    },
    {
        "ç·¨è™Ÿ": "N002", "è³‡æ–™é¡å‹": "æŠ•è¡Œå¿«è¨Š", "æ—¥æœŸ": "2025/11/19", "å…¬å¸": "è¯ç™¼ç§‘", "è‚¡è™Ÿ": "2454",
        "åˆ¸å•†ä¾†æº": "Morgan Stanley", "å ±å°é‡é»åˆ†é¡": "æ–°å“ç™¼è¡¨", "é‡è¦æ€§": "ä¸­",
        "å®Œæ•´å ±å°å…§å®¹": "å¤§æ‘©å ±å‘ŠæŒ‡å‡ºï¼Œå¤©ç’£ 9400 åœ¨ä¸­åœ‹éŠ·å”®å„ªæ–¼é æœŸï¼Œå—æƒ  Vivo/Oppo ç†±éŠ·ã€‚é ä¼° Q4 æ‰‹æ©Ÿç‡Ÿæ”¶å­£å¢ 10-15%ã€‚",
        "æ¨™ç±¤": "#å¤©ç’£9400 #æ‰‹æ©Ÿ"
    }
];

// ==========================================
// 3. ç”¢æ¥­åˆ†é¡è³‡æ–™åº« (6 æ¬„ä½ï¼šä»£è™Ÿ,åç¨±,å¸‚å ´,ç”¢æ¥­,ç´°ç”¢æ¥­,ç”¢æ¥­åœ°ä½)
// ==========================================
const DB_IND = [
    { "ä»£è™Ÿ":"2330", "åç¨±":"å°ç©é›»", "å¸‚å ´":"ä¸Šå¸‚", "ç”¢æ¥­":"åŠå°é«”", "ç´°ç”¢æ¥­":"æ™¶åœ“ä»£å·¥", "ç”¢æ¥­åœ°ä½":"å…¨çƒæ™¶åœ“ä»£å·¥é¾é ­ (å¸‚å >60%)ï¼Œå…ˆé€²è£½ç¨‹éœ¸ä¸»" },
    { "ä»£è™Ÿ":"2357", "åç¨±":"è¯ç¢©", "å¸‚å ´":"ä¸Šå¸‚", "ç”¢æ¥­":"é›»è…¦åŠé€±é‚Š", "ç´°ç”¢æ¥­":"PCå“ç‰Œ/ä¼ºæœå™¨", "ç”¢æ¥­åœ°ä½":"å…¨çƒä¸»æ©Ÿæ¿ç¬¬ä¸€å¤§ï¼Œé›»ç«¶å“ç‰Œ ROG é¾é ­" },
    { "ä»£è™Ÿ":"2360", "åç¨±":"è‡´èŒ‚", "å¸‚å ´":"ä¸Šå¸‚", "ç”¢æ¥­":"é›»å­é›¶çµ„ä»¶", "ç´°ç”¢æ¥­":"å„€å™¨è¨­å‚™", "ç”¢æ¥­åœ°ä½":"å…¨çƒé›»æºä¾›æ‡‰å™¨æ¸¬è©¦è¨­å‚™é¾é ­" },
    { "ä»£è™Ÿ":"6669", "åç¨±":"ç·¯ç©", "å¸‚å ´":"ä¸Šå¸‚", "ç”¢æ¥­":"é›»è…¦åŠé€±é‚Š", "ç´°ç”¢æ¥­":"é›²ç«¯ä¼ºæœå™¨", "ç”¢æ¥­åœ°ä½":"å°ˆæ³¨ CSP è³‡æ–™ä¸­å¿ƒä¹‹ ODM Direct å¤§å» " },
    { "ä»£è™Ÿ":"8299", "åç¨±":"ç¾¤è¯", "å¸‚å ´":"ä¸Šæ«ƒ", "ç”¢æ¥­":"åŠå°é«”", "ç´°ç”¢æ¥­":"NANDæ§åˆ¶IC", "ç”¢æ¥­åœ°ä½":"ç¨ç«‹å¿«é–ƒè¨˜æ†¶é«”æ§åˆ¶æ™¶ç‰‡é¾é ­" },
    { "ä»£è™Ÿ":"6547", "åç¨±":"é«˜ç«¯ç–«è‹—", "å¸‚å ´":"ä¸Šæ«ƒ", "ç”¢æ¥­":"ç”ŸæŠ€é†«ç™‚", "ç´°ç”¢æ¥­":"ç–«è‹—ç ”ç™¼", "ç”¢æ¥­åœ°ä½":"åœ‹ç”¢æ–°å† ç–«è‹—é–‹ç™¼å•†" }
];

// ==========================================
// 4. ç³»çµ±æ ¸å¿ƒé‚è¼¯
// ==========================================
const app = {
    history: ['home'],

    init: function() {
        this.renderNews();
    },

    // æœå°‹ç”¢æ¥­ (6æ¬„ä½å‘ˆç¾)
    searchInd: function(val) {
        const container = document.getElementById('indResult');
        if(!val) { container.innerHTML = '<div style="text-align:center;color:#94a3b8;margin-top:20px;">è«‹è¼¸å…¥é—œéµå­—æŸ¥è©¢å…¨å¸‚å ´å®šä½</div>'; return; }
        
        const res = DB_IND.filter(d => (d.ä»£è™Ÿ+d.åç¨±+d.ç”¢æ¥­).includes(val));
        
        if(res.length === 0) { container.innerHTML = '<div style="text-align:center;color:#94a3b8;margin-top:20px;">æŸ¥ç„¡è³‡æ–™</div>'; return; }

        container.innerHTML = res.map(d => `
            <div class="ind-card">
                <div class="ind-head">
                    <div class="ind-name">${d.åç¨±} <span style="font-size:14px;color:#64748b;font-weight:400">${d.ä»£è™Ÿ}</span></div>
                    <div class="ind-market" style="background:${d.å¸‚å ´==='ä¸Šå¸‚'?'#059669':'#d97706'}">${d.å¸‚å ´}</div>
                </div>
                <div class="ind-body">
                    <div class="ind-row"><div class="ind-label">ä¸»ç”¢æ¥­</div><div class="ind-val">${d.ç”¢æ¥­}</div></div>
                    <div class="ind-row"><div class="ind-label">ç´°ç”¢æ¥­</div><div class="ind-val">${d.ç´°ç”¢æ¥­}</div></div>
                    <div class="ind-pos-box">
                        <strong>ğŸ† ç”¢æ¥­åœ°ä½ï¼š</strong><br>${d.ç”¢æ¥­åœ°ä½}
                    </div>
                </div>
            </div>
        `).join('');
    },

    // æ¸²æŸ“å¤–é›» (10æ¬„ä½)
    renderNews: function() {
        document.getElementById('newsContainer').innerHTML = DB_NEWS.map(n => `
            <div class="news-card">
                <div class="news-top">
                    <div class="news-src">ğŸ“° ${n.åˆ¸å•†ä¾†æº}</div>
                    <div class="news-date">${n.æ—¥æœŸ}</div>
                </div>
                <div class="news-mid">
                    <div style="display:flex; align-items:baseline;">
                        <span class="news-co">${n.å…¬å¸}</span><span class="news-code">${n.è‚¡è™Ÿ}</span>
                    </div>
                    <div class="news-badges">
                        <span class="nb-cat">${n.å ±å°é‡é»åˆ†é¡}</span>
                        <span class="nb-imp">${n.é‡è¦æ€§}é‡è¦</span>
                        <span style="background:#f1f5f9;color:#64748b;padding:2px 8px;border-radius:6px;font-size:11px;">${n.è³‡æ–™é¡å‹}</span>
                    </div>
                </div>
                <div class="news-txt">${n.å®Œæ•´å ±å°å…§å®¹}</div>
                <div class="news-bot">
                    <div>ğŸ·ï¸ ${n.æ¨™ç±¤}</div>
                    <div>ID: ${n.ç·¨è™Ÿ}</div>
                </div>
            </div>
        `).join('');
    },

    // é¡¯ç¤ºç ”å ±è©³æƒ… (19æ¬„ä½ Chat UI)
    showDetail: function(index) {
        const d = DB_REPORTS[index];
        const c = document.getElementById('chatContent');
        c.innerHTML = '';

        // æ§‹å»ºå°è©±æ°£æ³¡åºåˆ—
        const steps = [
            {   // 1. Meta è³‡è¨Š
                html: `
                <div class="bubble b-meta">
                    <div class="meta-row"><span>${d.ç·¨è™Ÿ} Â· ${d.å ±å‘Šæ—¥æœŸ}</span><span>${d.é‡è¦æ€§}é‡è¦</span></div>
                    <div class="meta-lg">${d.å…¬å¸} ${d.è‚¡è™Ÿ}</div>
                    <div class="meta-row"><span>${d.åˆ¸å•†} ${d.åˆ†æå¸«}</span><span>${d.ç”¢æ¥­}</span></div>
                </div>`
            },
            {   // 2. è©•ç­‰èˆ‡ç›®æ¨™
                html: `
                <div class="bubble b-rating">
                    <div class="sec-title">ğŸ¯ æŠ•è³‡è©•ç­‰</div>
                    <div class="grid-3">
                        <div><div class="g-label">è©•ç­‰</div><div class="g-val val-red">${d.æŠ•è³‡è©•ç­‰}</div></div>
                        <div><div class="g-label">ç›®æ¨™åƒ¹</div><div class="g-val">${d.ç›®æ¨™åƒ¹}</div></div>
                        <div><div class="g-label">é¡å‹</div><div class="g-val" style="font-size:13px">${d.å ±å‘Šé¡å‹}</div></div>
                    </div>
                </div>`
            },
            {   // 3. æ‘˜è¦
                html: `<div class="bubble"><div class="sec-title">âš¡ ç²¾ç°¡é‡é»æ‘˜è¦</div><div class="content-txt" style="font-weight:500">${d.ç²¾ç°¡é‡é»æ‘˜è¦}</div></div>`
            },
            {   // 4. è²¡å‹™
                html: `<div class="bubble"><div class="sec-title">ğŸ’° é—œéµè²¡å‹™æ•¸æ“š</div><div class="content-txt">${d.é—œéµè²¡å‹™æ•¸æ“š}</div></div>`
            },
            {   // 5. ç‡Ÿé‹
                html: `<div class="bubble"><div class="sec-title">ğŸ¢ ç‡Ÿé‹é‡é»</div><div class="content-txt">${d.ç‡Ÿé‹é‡é»}</div></div>`
            },
            {   // 6. ç­–ç•¥
                html: `<div class="bubble"><div class="sec-title">ğŸ¯ ç­–ç•¥æ–¹å‘</div><div class="content-txt">${d.ç­–ç•¥æ–¹å‘}</div></div>`
            },
            {   // 7. QA
                html: `<div class="bubble" style="background:#f0fdf4"><div class="sec-title">â“ é‡è¦ QA æ‘˜è¦</div><div class="content-txt">${d.é‡è¦QAæ‘˜è¦}</div></div>`
            },
            {   // 8. Rex è§€å¯Ÿ (é‡é»)
                html: `<div class="bubble b-rex"><div class="sec-title" style="color:#b45309">ğŸ‘‘ Rex è§€å¯Ÿ</div><div class="content-txt" style="color:#78350f;font-weight:500">${d.Rexè§€å¯Ÿ}</div></div>`
            },
            {   // 9. è¿½è¹¤
                html: `<div class="bubble" style="background:#f8fafc"><div class="sec-title">ğŸ“… å¾ŒçºŒè¿½è¹¤ & æ¨™ç±¤</div><div class="content-txt">${d.å¾ŒçºŒè¿½è¹¤}</div><div style="margin-top:10px;font-size:12px;color:#64748b">${d.æ¨™ç±¤}</div></div>`
            }
        ];

        // ä¾åºæ’­æ”¾å‹•ç•«
        steps.forEach((s, i) => {
            setTimeout(() => {
                c.insertAdjacentHTML('beforeend', s.html);
                window.scrollTo(0, document.body.scrollHeight);
            }, i * 150);
        });

        this.go('detailView');
    },

    // ç ”å ±åˆ—è¡¨
    showList: function(filter) {
        const list = document.getElementById('listContainer');
        document.getElementById('listTitle').innerText = filter === 'high' ? 'é«˜é‡è¦æ€§å ±å‘Š' : 'æ‰€æœ‰å ±å‘Š';
        const data = filter === 'high' ? DB_REPORTS.filter(d=>d.é‡è¦æ€§==='é«˜') : DB_REPORTS;
        
        list.innerHTML = data.map((d,i) => `
            <div class="list-item" onclick="app.showDetail(${i})">
                <div>
                    <div style="font-weight:800; font-size:16px; color:#1e293b;">${d.å…¬å¸} <span style="font-weight:400; color:#64748b;">${d.è‚¡è™Ÿ}</span></div>
                    <div style="font-size:13px; color:#64748b; margin-top:4px;">${d.å ±å‘Šæ—¥æœŸ} Â· ${d.åˆ¸å•†}</div>
                    <div style="font-size:14px; color:#334155; margin-top:8px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; width:250px;">${d.ç²¾ç°¡é‡é»æ‘˜è¦}</div>
                </div>
                <div style="text-align:right;">
                    <div style="font-weight:700; color:#ef4444; font-size:14px;">${d.æŠ•è³‡è©•ç­‰}</div>
                    <div style="font-size:12px; color:#94a3b8; margin-top:4px;">TP: ${d.ç›®æ¨™åƒ¹}</div>
                </div>
            </div>
        `).join('');
        this.go('listView');
    },

    go: function(id) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if(this.history[this.history.length-1] !== id) this.history.push(id);
        window.scrollTo(0,0);
        
        // Nav ç‹€æ…‹
        document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('active'));
        if(id==='home') document.querySelectorAll('.nav-item')[0].classList.add('active');
        if(id==='industryView') document.querySelectorAll('.nav-item')[1].classList.add('active');
        if(id==='newsView') document.querySelectorAll('.nav-item')[2].classList.add('active');
    },

    back: function() {
        if(this.history.length > 1) { this.history.pop(); this.go(this.history.pop()); }
        else { this.go('home'); }
    }
};

app.init();
</script>
</body>
</html>
